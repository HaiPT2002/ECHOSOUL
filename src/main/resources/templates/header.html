<!-- templates/header.html -->
<div th:fragment="headerNav(page)">
    <header>
        <div class="header-left">
            <a th:href="@{/}">
                <img src="/images/logo.png" alt="Echosoul logo" class="logo-img">
            </a>
        </div>

        <div class="header-right">

            <!-- Náº¿u chÆ°a login -->
            <div th:if="${user == null or user.username == null}">
                <a href="/login" class="auth-link">ÄÄƒng nháº­p</a> /
                <a href="/register" class="auth-link">ÄÄƒng kÃ½</a>
            </div>

            <!-- Ä‘Ã£ login -->
            <div th:if="${user != null and user.username != null}" class="user-menu">
                <div class="user-icon" onclick="toggleDropdown()">
                    <img src="/images/user-icon.png" alt="User Icon" class="user-icon-img">
                </div>

                <div id="dropdown" class="dropdown-content">
                    <a th:href="@{/profile}">ğŸ‘¤ ThÃ´ng tin cÃ¡ nhÃ¢n</a>
                    <a th:href="@{/premium}">â­ NÃ¢ng cáº¥p Premium</a>
                    <a th:href="@{/sent}">ğŸ’Œ ThÆ° Ä‘Ã£ gá»­i</a>
                    <a th:href="@{/inbox}">ğŸ“¥ HÃ²m thÆ° Ä‘áº¿n</a>
                    <a th:href="@{/settings}">âš™ï¸ CÃ i Ä‘áº·t tÃ i khoáº£n</a>
                    <form th:action="@{/logout}" method="post" style="margin:0;">
                        <button type="submit" class="logout-btn">ğŸšª ÄÄƒng xuáº¥t</button>
                    </form>
                </div>
            </div>
        </div>
    </header>

    <nav class="main-nav">
        <a th:href="@{/}" th:classappend="${page == 'home'} ? ' active' : ''">Trang Chá»§</a>
        <a th:href="@{/letters/send}" th:classappend="${page == 'send'} ? ' active' : ''">Gá»­i ThÆ°</a>
        <a th:href="@{/sky-letter}" th:classappend="${page == 'sky'} ? ' active' : ''">Báº§u Trá»i Chung</a>
        <a th:href="@{/inbox}" th:classappend="${page == 'inbox'} ? ' active' : ''">Báº¿n ThÆ°</a>
        <a th:href="@{/saomate}" th:classappend="${page == 'mate'} ? ' active' : ''">Tráº¡m SaoMate</a>
    </nav>
</div>

