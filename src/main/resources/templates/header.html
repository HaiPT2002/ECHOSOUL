<!-- templates/header.html -->
<!— Header + Nav fragment for Thymeleaf —>
<div th:fragment="headerNav(page)">
    <header>
        <div class="header-left">
            <a th:href="@{/}">
                <img src="/images/logo.png" alt="Echosoul logo">
            </a>
        </div>

        <div class="user-icon" onclick="toggleDropdown()">
            <img src="/images/user-icon.png" alt="User Icon">
        </div>

        <div id="dropdown" class="dropdown-content">
            <a th:href="@{/profile}">👤 Thông tin cá nhân</a>
            <a th:href="@{/premium}">⭐ Nâng cấp Premium</a>
            <a th:href="@{/sent}">💌 Thư đã gửi</a>
            <a th:href="@{/inbox}">📥 Hòm thư đến</a>
            <a th:href="@{/settings}">⚙️ Cài đặt tài khoản</a>
            <form th:action="@{/logout}" method="post" style="margin:0;">
                <button type="submit" class="logout-btn">🚪 Đăng xuất</button>
            </form>
        </div>
    </header>

    <nav class="main-nav">
        <a th:href="@{/}" th:classappend="${page != null and page == 'home'} ? ' active' : ''">Trang Chủ</a>
        <a th:href="@{/letters/send}" th:classappend="${page != null and page == 'send'} ? ' active' : ''">Gửi Thư</a>
        <a th:href="@{/sky-letter}" th:classappend="${page != null and page == 'sky'} ? ' active' : ''">Bầu Trời Chung</a>
        <a th:href="@{/inbox}" th:classappend="${page != null and page == 'inbox'} ? ' active' : ''">Bến Thư</a>
        <a th:href="@{/saomate}" th:classappend="${page != null and page == 'mate'} ? ' active' : ''">Trạm SaoMate</a>
    </nav>
</div>
